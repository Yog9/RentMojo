(this.webpackJsonprentmojo=this.webpackJsonprentmojo||[]).push([[0],{17:function(t,e,n){},26:function(t,e,n){},33:function(t,e,n){},41:function(t,e,n){},42:function(t,e,n){"use strict";n.r(e);var c=n(0),s=n.n(c),o=n(18),r=n.n(o),a=(n(33),n(10)),i=n(9),u=n(3),d=n(13),j=n(28),l=n(4),p="FETCH_USERS",h="FETCH_POSTS",b="FETCH_POST_DETAILS",f="FETCH_COMMENTS",O="DELETE_POST_SUCCESS",m="DELETE_POST_ERROR",g="ITEMS_LOADING",x={posts:[],isPostsLoading:!0},v={users:[],isUserLoading:!0},y={postsDetails:{}},L={comments:[]},C={post:{},error:null},S={isLoading:!0},w=Object(d.c)({isLoading:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case g:return Object(l.a)(Object(l.a)({},t),{},{isLoading:e.payload});default:return t}},users:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case p:return Object(l.a)(Object(l.a)({},t),{},{users:e.payload,isUserLoading:!1});default:return t}},posts:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case h:return Object(l.a)(Object(l.a)({},t),{},{posts:e.payload,isPostsLoading:!1});default:return t}},postsDetails:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case b:return Object(l.a)(Object(l.a)({},t),{},{postsDetails:e.payload});default:return t}},comments:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case f:return Object(l.a)(Object(l.a)({},t),{},{comments:e.payload});default:return t}},post:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case O:return Object(l.a)(Object(l.a)({},t),{},{post:e.payload});case m:return Object(l.a)(Object(l.a)({},t),{},{error:e.payload});default:return t}}}),P=[j.a],E=Object(d.d)(w,{},d.a.apply(void 0,P)),D=n(12),F=n.n(D),T=n(16),_=n(11),k=(n(26),function(t){return{type:g,payload:t}}),N=n(1),I=function(t){var e=t.user;return Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{scope:"row","data-label":"Name",children:e.name}),Object(N.jsx)("td",{"data-label":"Company",children:e.company.name}),Object(N.jsx)("td",{"data-label":"Blog Posts",children:Object(N.jsx)(i.b,{to:"/".concat(e.id,"/posts/"),children:"Posts"})})]})},U=function(t){var e=t.input,n=t.onChange,c=t.placeholder;return Object(N.jsx)("input",{style:{width:"20rem",background:"#F2F1F9",border:"none",padding:"0.5rem"},value:e,placeholder:c,onChange:function(t){return n(t.target.value)}},"random1")},B=function(){return Object(N.jsxs)(s.a.Fragment,{children:[Object(N.jsx)("div",{className:"loading",children:Object(N.jsx)("div",{className:"loading-content",children:Object(N.jsx)("p",{children:"Loading..."})})}),")"]})};var H=Object(a.b)((function(t){return{users:t.users.users,isLoading:t.isLoading.isLoading}}),{fetchUsers:function(){return function(t){t(k(!0)),fetch("https://jsonplaceholder.typicode.com/users").then((function(t){return t.json()})).then((function(e){t({type:p,payload:e}),t(k(!1))}))}},itemsLoading:k})((function(t){var e=t.fetchUsers,n=t.users,o=(t.itemsLoading,t.isLoading),r=Object(c.useState)(""),a=Object(_.a)(r,2),i=a[0],u=a[1],d=Object(c.useState)(""),j=Object(_.a)(d,2),l=j[0],p=j[1],h=Object(c.useState)(!1),b=Object(_.a)(h,2),f=b[0],O=b[1];Object(c.useEffect)((function(){e()}),[]);var m=Object(c.useState)(n),g=Object(_.a)(m,2),x=g[0],v=g[1];o||f||(v(n),O(!0));var y=n,L=n,C=x.map((function(t){return Object(N.jsx)(I,{user:t},t.id)})),S=function(){var t=Object(T.a)(F.a.mark((function t(e){var c;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(c=e.trim())&&(y=n.filter((function(t){return t.name.toLowerCase().includes(c.toLowerCase())}))),u(e),v(y);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),w=function(){var t=Object(T.a)(F.a.mark((function t(e){var c;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(c=e.trim())&&(L=n.filter((function(t){return t.company.name.toLowerCase().includes(c.toLowerCase())}))),p(e),v(L);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return o?Object(N.jsx)(B,{}):Object(N.jsxs)(s.a.Fragment,{children:[Object(N.jsx)(U,{input:i,onChange:S,placeholder:"Search Name"}),Object(N.jsx)(U,{input:l,onChange:w,placeholder:"Search Company"}),Object(N.jsxs)("table",{children:[Object(N.jsx)("caption",{children:"Users"}),Object(N.jsx)("thead",{children:Object(N.jsxs)("tr",{children:[Object(N.jsx)("th",{scope:"col",children:"Name"}),Object(N.jsx)("th",{scope:"col",children:"Company"}),Object(N.jsx)("th",{scope:"col",children:"Blog Posts"})]})}),Object(N.jsx)("tbody",{children:C})]})]})})),M=(n(17),function(t){var e=t.post;return Object(N.jsx)(s.a.Fragment,{children:Object(N.jsx)(i.b,{to:"/".concat(e.userId,"/posts/").concat(e.id),children:Object(N.jsx)("li",{children:e.title},e.id)})})}),R=Object(a.b)((function(t){return{posts:t.posts.posts,isLoading:t.isLoading.isLoading,isPostsLoading:t.posts.isPostsLoading}}),{fetchPosts:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){n(k(!0)),fetch("https://jsonplaceholder.typicode.com/posts?userId=".concat(t,"&skip=").concat(e,"&limit=10")).then((function(t){return t.json()})).then((function(t){n({type:h,payload:t}),n(k(!1))}))}},itemsLoading:k})((function(t){var e=t.fetchPosts,n=t.posts,o=(t.isLoading,t.itemsLoading,t.isPostsLoading),r=Object(c.useState)(""),a=Object(_.a)(r,2),i=a[0],d=a[1],j=Object(c.useState)(!1),l=Object(_.a)(j,2),p=l[0],h=l[1],b=Object(u.g)().user_id;Object(c.useEffect)((function(){e(b)}),[]);var f=Object(c.useState)(n),O=Object(_.a)(f,2),m=O[0],g=O[1];o||p||(g(n),h(!0));var x=n,v=m.map((function(t){return Object(N.jsx)(M,{post:t},t.id)})),y=function(){var t=Object(T.a)(F.a.mark((function t(e){var c;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(c=e.trim())&&(x=n.filter((function(t){return t.title.toLowerCase().includes(c.toLowerCase())}))),d(e),g(x);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return o?Object(N.jsx)(B,{}):Object(N.jsxs)(s.a.Fragment,{children:[" ",Object(N.jsx)(U,{input:i,onChange:y,placeholder:"Search Title"}),Object(N.jsx)("ul",{children:v})]})})),A=function(t){var e=t.comment;return Object(N.jsx)("div",{children:Object(N.jsxs)("div",{className:"card",children:[Object(N.jsx)("h3",{children:e.name}),Object(N.jsx)("p",{children:e.body})]})})},J=Object(a.b)((function(t){return{post:t.post.post,error:t.post}}),{deletePost:function(t){return function(e){e(k(!0)),fetch("https://jsonplaceholder.typicode.com/posts/".concat(t),{method:"delete"}).then((function(t){return t.json()})).then((function(t){if(t.error)throw t.error;e({type:O,payload:t}),e(k(!1))})).catch((function(t){e({type:m,payload:t})}))}}})((function(t){var e=t.comments,n=t.deletePost,c=Object(u.f)(),o=e.map((function(t){return Object(N.jsx)(A,{comment:t},t.id)})),r=Object(u.g)().user_id;return Object(N.jsxs)(s.a.Fragment,{children:[o,Object(N.jsx)("button",{onClick:function(){n(r),console.log("post deleted"),c.push("/".concat(r,"/posts"))},children:"Delete this post"})]})})),G=(n(41),Object(a.b)((function(t){return{postsDetails:t.postsDetails.postsDetails,comments:t.comments.comments}}),{fetchPostDetails:function(t){return function(e){e(k(!0)),fetch("https://jsonplaceholder.typicode.com/posts/".concat(t)).then((function(t){return t.json()})).then((function(t){e({type:b,payload:t}),e(k(!1))}))}},fetchComments:function(t){return function(e){e(k(!0)),fetch("https://jsonplaceholder.typicode.com/posts/".concat(t,"/comments")).then((function(t){return t.json()})).then((function(t){e({type:f,payload:t}),e(k(!1))}))}}})((function(t){var e=t.fetchPostDetails,n=t.postsDetails,s=t.fetchComments,o=t.comments,r=Object(u.g)().post_id;return Object(c.useEffect)((function(){e(r)}),[]),Object(N.jsxs)("div",{children:["Post Details - ",r,Object(N.jsxs)("div",{className:"card",children:[Object(N.jsx)("h3",{children:n&&n.title}),Object(N.jsx)("p",{children:n&&n.body}),Object(N.jsx)("p",{children:Object(N.jsx)("button",{onClick:function(){return s(r)},children:"Show Comments"})})]}),Object(N.jsx)(J,{comments:o})]})})));var q=function(){return Object(N.jsx)(a.a,{store:E,children:Object(N.jsx)(i.a,{basename:"/rentmojo",children:Object(N.jsxs)(u.c,{children:[Object(N.jsx)(u.a,{path:"/",exact:!0,component:H}),Object(N.jsx)(u.a,{path:"/:user_id/posts",exact:!0,component:R}),Object(N.jsx)(u.a,{path:"/:user_id/posts/:post_id",exact:!0,component:G})]})})})},z=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,43)).then((function(e){var n=e.getCLS,c=e.getFID,s=e.getFCP,o=e.getLCP,r=e.getTTFB;n(t),c(t),s(t),o(t),r(t)}))};r.a.render(Object(N.jsx)(s.a.StrictMode,{children:Object(N.jsx)(q,{})}),document.getElementById("root")),z()}},[[42,1,2]]]);
//# sourceMappingURL=main.d38647d8.chunk.js.map